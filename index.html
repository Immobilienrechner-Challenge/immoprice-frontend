<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>Hyperspace by HTML5 UP</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
	<!-- SSZVIS Library -->
	<link rel="stylesheet" href="assets/css/sszvis.css" />
</head>

<body class="is-preload">

	<!-- Sidebar -->
	<section id="sidebar">
		<div class="inner">
			<nav>
				<ul>
					<li><a href="#intro">Start</a></li>
					<li><a href="#one">Ortschaft</a></li>
					<li><a href="#two">Eigenschaften</a></li>
					<li><a href="#three">Berechnen</a></li>
				</ul>
			</nav>
		</div>
	</section>

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Intro -->
		<section id="intro" class="wrapper style2 fullscreen fade-up">
			<div class="inner">
				<h1>Immoprice</h1>
				<p>Ein Projekt des Studiengangs B.Sc. Data Science der Fachhochschule Nordwestschweiz<br />
					Mit dieser Seite wird es möglich sein, einen Preisvorschlag für eine Immobilie zu machen.</p>
				<ul class="actions">
					<li><a href="https://github.com/Immobilienrechner-Challenge" class="button scrolly">GitHub zur
							Challenge</a></li>
				</ul>
			</div>
		</section>

		<!-- One -->
		<section id="one" class="wrapper style2 fullscreen fade-up">
			<div class="inner">

				<svg id="my_dataviz" width="800" height="600"></svg>

				<h2>Ortschaft auswählen</h2>
				<p>Phasellus convallis elit id ullamcorper pulvinar. Duis aliquam turpis mauris, eu ultricies erat
					malesuada quis. Aliquam dapibus.</p>
				<ul class="actions">
					<li><a href="generic.html" class="button">Learn more</a></li>
				</ul>
			</div>
		</section>

		<!-- Two -->
		<section id="two" class="wrapper style2 fullscreen fade-up">
			<div class="inner">
				<h2>Eigenschaften konfigurieren</h2>
				<p>Phasellus convallis elit id ullamcorper pulvinar. Duis aliquam turpis mauris, eu ultricies erat
					malesuada quis. Aliquam dapibus.</p>
				<ul class="actions">
					<li><a href="generic.html" class="button">Learn more</a></li>
				</ul>
			</div>
		</section>

		<!-- Three -->
		<section id="three" class="wrapper style3 fullscreen fade-up">
			<div class="inner">
				<h2>Vorhersage generieren</h2>
				<p>Phasellus convallis elit id ullamcorper pulvinar. Duis aliquam turpis mauris, eu ultricies erat
					malesuada quis. Aliquam dapibus.</p>
				<ul class="actions">
					<li><a href="generic.html" class="button">Learn more</a></li>
				</ul>
			</div>
		</section>

	</div>

	<!-- Footer -->
	<footer id="footer" class="wrapper style1-alt">
		<div class="inner">
			<ul class="menu">
				<li>&copy; Immoprice.ch | Ein Projekt des Studiengangs B.Sc. Data Science der Fachhochschule
					Nordwestschweiz</li>
				<li>Website Template: <a href="http://html5up.net">HTML5 UP</a></li>
			</ul>
		</div>
	</footer>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/jquery.scrolly.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>
	<!-- SSZVIS Library -->
	<script src="http://d3js.org/d3.v4.js"></script>
	<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
	<script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>

	<script>

		// The svg
		var svg = d3.select("svg"),
			width = +svg.attr("width"),
			height = +svg.attr("height");

		// Map and projection
		var path = d3.geoPath();
		var projection = d3.geoMercator()
			.scale(70)
			.center([0, 20])
			.translate([width / 2, height / 2]);

		// Data and color scale
		var data = d3.map();
		var colorScale = d3.scaleThreshold()
			.domain([100000, 1000000, 10000000, 30000000, 100000000, 500000000])
			.range(d3.schemeBlues[7]);

		// Load external data and boot
		d3.queue()
			.defer(d3.json, "http://github.com/Immobilienrechner-Challenge/data/raw/main/plz_verzeichnis_v2.geojson")
			.defer(d3.csv, "http://raw.githubusercontent.com/Immobilienrechner-Challenge/immoprice-frontend/main/assets/data/data.csv",
				function (d) { data.set(d.KantonNr, +d.Wert); })
			.await(ready);

		function ready(error, topo) {

			let mouseOver = function (d) {
				d3.selectAll(".Kanton")
					.transition()
					.duration(200)
					.style("opacity", .5)
				d3.select(this)
					.transition()
					.duration(200)
					.style("opacity", 1)
					.style("stroke", "black")
			}

			let mouseLeave = function (d) {
				d3.selectAll(".Kanton")
					.transition()
					.duration(200)
					.style("opacity", .8)
				d3.select(this)
					.transition()
					.duration(200)
					.style("stroke", "transparent")
			}

			// Draw the map
			svg.append("g")
				.selectAll("path")
				.data(topo.features)
				.enter()
				.append("path")
				// draw each country
				.attr("d", d3.geoPath()
					.projection(projection)
				)
				// set the color of each country
				.attr("fill", function (d) {
					d.total = data.get(d.id) || 0;
					return colorScale(d.total);
				})
				.style("stroke", "transparent")
				.attr("class", function (d) { return "Country" })
				.style("opacity", .8)
				.on("mouseover", mouseOver)
				.on("mouseleave", mouseLeave)
		}

	</script>

</body>

</html>